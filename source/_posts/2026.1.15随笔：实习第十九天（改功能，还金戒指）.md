---
title: 2026.01.15随笔：实习第十九天（改功能，还金戒指）
date: 2026-01-15
categories:
  - 随笔

---

# 2026.1.15随笔：实习第十九天（改功能，还金戒指）

上午把显示渲染右侧窗口的三个函数重构了一下，调用方式更简单，只需要传一个`String`就能显示对应窗口 	

mt原话：

> 1、第一次打开项目时，只读取了参数到数据类里，没有创建对应的窗口，第二次点击打开项目，才会刷新出来视图。2、把边界条件和网格两个文件的路径在保存项目的时候，也存到pro.json里吧，因为现在打开项目的时候没法回显原来的路径。
>
> 你看一下第一个问题是咋回事，你那里正常吗，第二个是需要补充一下的

![](https://raw.githubusercontent.com/QinMou000/pic/main/a13e9a82b44a4d1ceffac24bdf820057.png)

第一次打开项目应该是读取新项目的`pro.json`文件，这个我理解错了，改了一下。之后就改打开项目的时候把选中的文件路径回显，直接根据项目下的文件判断是不是之前导入了，如果导入了，查找并显示当前目录下的文件就行，如果没有就赋空字符串就行

我特别容易犯错误的地方就是每次加新函数的时候都不记得在前面加上`类名::`

**好的现在用户打开项目的时候可以自动查找当前项目下是否有边界文件和网格文件**，如果有就直接回显到了参数面板上

![](https://raw.githubusercontent.com/QinMou000/pic/main/image-20260115153545596.png)

mt原话：

> 然后打开可以了，但是打开之后又新建项目的时候，这个路径没有被清理

之后修改了一下mt说不用特意加一个清理的步骤，直接在`FindFileAndSetParameter`作处理就好了

mt原话：

> 感觉不用这样特意去写，你这里打开的逻辑可以直接放到这个函数里，在创建和打开的时候都调用这个，创建里面调用这个就相当于是打开一个初始化好的目录，因为找不到那个文件嘛，所以路径就是空的，如果是打开已有的项目，那就通过文件直接设置他那个名称，你看这三个函数能不能再合并优化一下

主要意思就是叫我可以复用`FindFileAndSetParameter`查找对应文件并设置参数这个函数

> 创建和打开的流程其实是差不多的，只不过创建的时候需要构建一下初始化目录，而打开不需要这个操作，后面的操作几乎都是一样的，先清理当前项目上的数据，然后打开的逻辑，我觉得你可以把通用的打开逻辑都放到openProjectFromDir里面
>
> 还给了我一个其他项目的代码参考

**之后就是把`createproject`、`openproject`和`openProjectFromDir`这三个函数再重构一下，哪些是他们都要有的功能就放到`openProjectFromDir`这个函数里面**

![](https://raw.githubusercontent.com/QinMou000/pic/main/image-20260115150035434.png)

> 昨天晚上在公司附近健身，练背，我弯腰捡杠铃片的时候，看到了一枚黄黄的东西，不超过0.1秒后我就很自然的把戒指踹我手里了。晚上回屋后，上网搜了一下价值5000多，想这找个金店销赃，然后用这5000块好好挥霍一番。然后又一查，发现这个价位人家已经可以报警了，根据民法典：
>
> - **拾得遗失物，有义务返还**
> - 你把戒指交给健身房，已经尽到了义务
> - 若**故意占有、拒不归还**，可能涉及不当得利，极端情况下可能引发法律纠纷
>
>  “不联系我就是我的”为什么不成立？
>
> 因为在法律上，这会被认定为：
>
> - **明知不是自己的财物**
> - **仍然长期占有**
> - → 可能构成 **不当得利**
> - 严重的，甚至可能被认定为 **侵占**
>
> 哪怕戒指价值不算特别高，**一旦失主调监控**：
>
> - 能看到你捡走
> - 你又没有上交登记
>
> 之后我还是老老实实的还给人家了，得到了66元的红包
>
> ![](https://raw.githubusercontent.com/QinMou000/pic/main/MVIMG_20260114_203351.jpg)