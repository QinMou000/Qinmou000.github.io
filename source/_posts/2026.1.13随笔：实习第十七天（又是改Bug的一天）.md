---
title: 2026.01.13随笔：实习第十七天（又是改Bug的一天）
date: 2026-01-13
categories:
  - 随笔
---

# 2026.1.13随笔：实习第十七天（又是改Bug的一天）

上午把昨天那个把右侧标签页名存`pro.json`文件的函数完善了一下，接下来就是从`pro.json`里面读出来，经过我一番惊天地泣鬼神的调试，发现什么都是对的，但是就是删不掉旧项目的标签页，用硬编码能删掉，但是从文件读出来然后遍历删就删不掉~

后来发现，我的窗口名字设置的是中文，然后存进`pro.json`里面存的是中文，最后因为写的那个`json`函数好像不支持中文，所以全部换成英文了

好的现在目前为止完成了的大功能就是：**旧项目窗口清除**；之后要做的功能就是：打开新项目后将参数文件同步到参数类里面，将有的数据渲染到窗口`"BoundaryConditionData","GridData","SoundPressureData"`等

> 下一步应该是打开项目时，自动读取项目目录下的文件（配置文件，模型文件，边界文件）初始化内参数，并渲染对应窗口

mt原话：

> 你可以写一个接口，在打开之前先保存一下上一个项目，另一个就是你可以重写一下MainWindow的关闭事件，里面调用一下你那个保存啥的

我之前写过一个保存项目的函数，和`loadconfig`，加载配置文件的函数，但是当时没考虑到这么多情况，所以现在要开始改了；具体就是`solver.txt`和`solver-point.txt`的问题

![](https://raw.githubusercontent.com/QinMou000/pic/main/image-20260113154702568.png)

改完了上面的问题，又重写了`MainWindow`的关闭事件，在用户点击关闭时可以自动保存当前项目

![](https://raw.githubusercontent.com/QinMou000/pic/main/image-20260113154632986.png)

现在在打开项目时，可以从文件里面读取类内参数，接下来要做的就是，读取模型文件，边界文件并渲染窗口

mt说是用`json`文件里面的`openedtab`作为打开窗口依据，我以为有的就要全部打开呢。然后我现在是直接在`openproject`这里发送信号，然后`ACFEAOperatorsModelSolverProperty`这边没反应，并且发现我之前写的东西有好多没考虑到的情况，现在回去慢慢改。

![](https://raw.githubusercontent.com/QinMou000/pic/main/6dff0a3b3926cc126b27630d1e231d99.png)

mt原话：

> 那你别通过这个信号处理了吧，把你这个里面的逻辑封装成函数，因为这个是类是单例的，你就在你那通过这个类调用试试

打算明天再改，写新功能一时爽，回头擦屁股火葬场~

![](https://raw.githubusercontent.com/QinMou000/pic/main/image-20260113180923021.png)

---

吐槽一波：这个声学项目的群一共有5个人，出去两个leader之外，tm的好像干活的只有我一个，他们都在忙别的项目。`fuck !`
